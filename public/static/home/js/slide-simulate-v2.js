+function(d){var c=function(a,b){this.opt=d.extend(c.DEFAULTS,b);this.$wrap=d(a);this.$ctrl=this.$wrap.find(this.opt.ctrl);this.$prev=this.$wrap.find(this.opt.prev);this.$next=this.$wrap.find(this.opt.next);this.$items=this.$wrap.find(this.opt.items);this.$dotItems=this.$wrap.find(this.opt.dotItems);this.i=this.opt.i;this.len=this.$items.length;this.speed=this.opt.speed;this.rSpeed=this.opt.roundSpeed;this.isAuto=this.opt.isAuto;this.moveW=this.opt.moveWidth;this.manualTimer=null;this.autoRoundTimer=null;this.canSlide=true;this.nextI=0;this.preI=0;this.init(this.i)};c.DEFAULTS={ctrl:".slide_screen .i-ctrl",prev:".slide_screen .i-ctrl .ctrl-prev",next:".slide_screen .i-ctrl .ctrl-next",items:".slide_screen  .li1 .piece",dotItems:".slide_screen .libtn li",i:0,isRandom:false,speed:500,roundSpeed:4000,isAuto:true,moveWidth:990};c.prototype={init:function(f){var b=this;var a=b.$items.eq(f);if(b.$wrap.attr("id").toLowerCase()=="banner_super_slide".toLowerCase()){b.fillBgCol=true;b.showBgCol(a)}a.show();b.$dotItems.eq(f).addClass("selected");b.addEvent();if(b.isAuto){b.autoSlide()}b.$prev.find(".percent").html((b.i+1)+"/"+b.len);b.$next.find(".percent").html((b.i+1)+"/"+b.len)},addEvent:function(){var a=this;a.$dotItems.hover(function(){a.hoverI=a.i;var b=d(this),h=b.index(),g=a.moveW*h;a.manualTimer=setTimeout(function(){if(h==a.i){return}a.$dotItems.removeClass("selected");a.$dotItems.eq(h).addClass("selected");if(h>a.i){a.$items.eq(h).css("left",a.moveW).show().animate({left:0},a.speed);a.$items.eq(a.i).animate({left:-a.moveW},a.speed)}else{a.$items.eq(h).css("left",-a.moveW).show().animate({left:0},a.speed);a.$items.eq(a.i).animate({left:a.moveW},a.speed)}if(!!a.fillBgCol){a.showBgCol(a.$items.eq(a.hoverI))}a.i=h;a.lazyImg(a.i)},a.speed)},function(){clearTimeout(a.manualTimer)});a.$wrap.hover(function(b){a.$ctrl.stop(true,true).fadeIn(300);a.clearAllAni()},function(b){a.$ctrl.hide();if(a.autoRoundTimer==null&&a.isAuto){a.autoSlide()}});d(".layout").hover(function(b){a.$ctrl.stop(true,true).fadeIn(300);a.clearAllAni()},function(b){a.$ctrl.hide();if(a.autoRoundTimer==null&&a.isAuto){a.autoSlide()}});a.$next.bind("click",function(){if(a.canSlide){a._next()}});a.$prev.bind("click",function(){if(a.canSlide){a._prev()}});a.$ctrl.bind("mouseenter",function(){a.$ctrl.find(".percent").show()});a.$ctrl.bind("mouseleave",function(){a.$ctrl.find(".percent").hide()})},_next:function(){var a=this;a.i=a.i==(a.len-1)?0:(a.i+1);a.nextI=a.i;a.canSlide=false;if(!!a.fillBgCol){a.showBgCol(a.$items.eq(a.nextI))}a.$items.eq(a.nextI).css("left",a.moveW).show().animate({left:0},a.speed,function(){a.canSlide=true});a.$items.eq(a.i-1).animate({left:-a.moveW},a.speed);a.$dotItems.removeClass("selected");a.$dotItems.eq(a.nextI).addClass("selected");a.$next.find(".percent").html((a.nextI+1)+"/"+a.len);a.$prev.find(".percent").html((a.nextI+1)+"/"+a.len);a.lazyImg(a.nextI)},_prev:function(){var a=this;a.preI=(a.i==0)?(a.len-1):(a.i-1);a.canSlide=false;if(!!a.fillBgCol){a.showBgCol(a.$items.eq(a.preI))}a.$items.eq(a.preI).css("left",-a.moveW).show().animate({left:0},a.speed,function(){a.canSlide=true});a.$items.eq(a.i).animate({left:a.moveW},a.speed);a.$dotItems.removeClass("selected");a.$dotItems.eq(a.preI).addClass("selected");a.i=a.i==0?(a.len-1):(a.i-1);a.$prev.find(".percent").html((a.i+1)+"/"+a.len);a.$next.find(".percent").html((a.i+1)+"/"+a.len);a.lazyImg(a.preI)},autoSlide:function(){var a=this;a.autoRoundTimer=setInterval(function(){a._next()},a.rSpeed)},clearAllAni:function(){var a=this;clearTimeout(a.manualTimer);clearInterval(a.autoRoundTimer);a.manualTimer=null;a.autoRoundTimer=null},showBgCol:function(a){var b=a.find("a").data("bg-col");if(b){d(".layout").css({backgroundColor:b})}else{d(".layout").css({backgroundColor:""})}},lazyImg:function(b){var a=this;a.$items.eq(b).find("img[data-src3]").each(function(){var f=d(this);f.attr("src",f.attr("data-src3")).removeAttr("data-src3").addClass("err-product")});a.$items.eq(b).find("img[data-src2]").each(function(){var f=d(this);f.attr("src",f.attr("data-src2")).removeAttr("data-src2").addClass("err-product")})}};d.fn.mSlide=function(a){return this.each(function(){var b=d(this);new c(this,a)})}}(window.jQuery);