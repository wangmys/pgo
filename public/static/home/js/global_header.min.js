/* SVN.committedRevision=6706 */
/* FILE BEGIN global_lib_new.js */
var extObj=extObj||{};extObj=(function(f){var e=new Array();var g=function(){e.push("newPro");e.push("sort-dajuhui");e.push("sort-zengpin");e.push("sort-haiwaigou");e.push("sort-qianggou");e.push("sort-tuangou");e.push("sort-daodianshi");e.push("sort-sma");e.push("sort-ztcx");e.push("sort-zxtc");e.push("sort-cx");c()};var c=function(){if(typeof param=="undefined"||typeof param.ext=="undefined"||param.ext==""){return}var k=(parseInt(param.ext)-5).toString(2);var j=k.length;for(var h=0;h<j;h++){if(k.substring(j-h-1,j-h)=="1"){f("#"+e[h]).addClass("checked")}else{f("#"+e[h]).removeClass("checked")}}};var b=function(){var k="";for(var j=0;j<e.length;j++){if(f("#"+e[j]).hasClass("checked")){k="1"+k}else{k="0"+k}}var h=parseInt(k,2);if(h==0){k=""}else{h=h+5;k=""+h}return k};var a=function(h){var i=/&ext=([^&]+|)/;
if(i.test(h)){h=h.replace(i,"")}var j=b();if(""!=j){h+="&ext="+j}return h};return{init:g,result:b,setExtInfo:a}})(jQuery);function URIObj(options,version){this.path=options.path;this.ci=options.ci;this.iy=options.iy;this.ct=options.ct;this.cp=options.cp;this.cityId=options.cityId;this.hf=options.hf;this.st=options.st;this.ch=options.ch;this.bi=options.bi;this.il=options.il;this.ext=options.ext;this.showStock=options.showStock;this.p=options.p;this.n=options.n;this.sp=options.sp;this.sc=options.sc;this._=options._;this.l=options.l;this.tp=options.tp;this.version=version;this.clear=function(){this.cp.value=undefined;this.hf.value=undefined;for(str in this.hf){if(str!="index"&&str!="count"){delete this.hf[str]}}this.il.value=undefined;this.showStock.value=undefined;this.p.value=undefined;this.n=undefined;
this.sc.value=undefined;this._.value=undefined;this.l.value=undefined;this.tp.value=undefined};this.buildURI=function(flag){if(sn.searchCatalogId=="10051"){if(param.st!="14"){uriObj.st.value=param.st}else{uriObj.st.value="0"}}else{if(sn.searchCatalogId=="22001"){uriObj.st.value=param.sortType}}if(!flag){this.cp.value="0";this.cityId.value="0"}this.checkedParam();this.ext.value=extObj.result();if(version==2){var ary=this.sortedParam();var str=this.concatParam(ary);return this.removeZero(str)}else{if(version=1){}else{}}};this.checkedParam=function(){if($("#stock").hasClass("checked")){uriObj.iy.value=1}};this.hfIndex=function(name){var _index="0";var _indexInfo=$("#filterIndexInfo").attr("value");var pathfstr="/"+name+"_([^,]+|)/";if(name=="price"){_index="1"}else{if(name=="brand_Name_FacetAll"){_index="2"
}}if(typeof(_indexInfo)!="undefined"){var pathf=eval(pathfstr);if(_indexInfo.match(pathf)&&_indexInfo.match(pathf).length>=2){_index=_indexInfo.match(pathf)[1]}}return _index};this.sortedParam=function(){var result=new Array();for(attr in this){if(this[attr]!=undefined&&(typeof this[attr]=="object")){if(attr=="hf"){var cfArray=new Array();for(obj in this[attr]){if((obj!="index")&&(obj!="value")&&(obj!="count")){var _o=this[attr][obj];_o.index=this.hfIndex(obj);cfArray.push(_o)}}this.sortArrayDesc(cfArray);var cfarr=new Array(Number(this[attr].count));var index=this[attr].index;for(var i=0;i<Number(this[attr].count);i++){if(cfArray[i]&&cfArray[i].value){result.push({value:cfArray[i].value,index:index})}else{result.push({value:"0",index:index})}index++}}else{result.push(this[attr])}}}this.sortArray(result);
var rt=new Array(result[result.length-1].index);for(var i=0;i<result.length;i++){rt[result[i].index]=result[i]}return rt};this.concatParam=function(ary){var s="";if(ary&&ary.length){for(var i=0;i<ary.length;i++){if(0!=i){s+="-"}if(ary[i]&&ary[i].value){s+=ary[i].value}else{s+=0}}}return s};this.sortArray=function(arr){for(var i=0;i<arr.length;i++){for(var j=i+1;j<arr.length;j++){var m=Number(arr[i].index);var n=Number(arr[j].index);if(m>n){var temp=arr[j];arr[j]=arr[i];arr[i]=temp}}}};this.sortArrayDesc=function(arr){for(var i=0;i<arr.length;i++){for(var j=i+1;j<arr.length;j++){var m=Number(arr[i].index);var n=Number(arr[j].index);if(m<n){var temp=arr[j];arr[j]=arr[i];arr[i]=temp}}}};this.removeZero=function(str){var reg=new RegExp("-","g");try{while(str&&(str.substr(str.length-2,2)=="-0")){str=str.substr(0,str.length-2);
if(str.match(reg).length<2){str=str+"-0";break}}}catch(e){}if($("#brandId").length>0){str="pinpai/"+str}return str}}function gotoUrl(b){var a='<a id="gotoURL" href="'+b+'"></a>';document.body.appendChild($(a)[0]);if(navigator.userAgent.indexOf("Firefox")>0||navigator.userAgent.indexOf("Chrome")>0){window.location=b}else{triggerClick($("#gotoURL")[0])}}function triggerClick(b){if(document.all){b.click()}else{var a=document.createEvent("MouseEvents");a.initEvent("click",false,false);b.dispatchEvent(a)}}function globalPopTip(h,g,e){var c=document.documentElement.scrollHeight;var b=$(window).width();var f=$(window).height();var a=$(window).scrollTop();$("#"+g).css("left",b/2-220).css("top",(a+f/2-120)).show();$("#"+h).css("width",b);$("#"+h).css("height",c);$("#"+h).css("display","block");$("."+e).click(function(){$("#"+h).css("display","none");
$("#"+g).css("display","none")})}function globalAlert(b,a){SNPopup({msg:b}).open()}function addToShopStock(b,c){var a=$("."+b).find(".err-product").attr("rel");if(a==""||typeof a=="undefined"){a="0000000000"}mySuning.subscribeArrivalNotice(c,a,"searchResult")}function addToInterests(b,c){var a=$("."+b).find(".err-product").attr("rel");if(a==""||typeof a=="undefined"){a="0000000000"}mySuning.add2ProductFavorite(c,a,"searchResult","",pageType)}function sNContractAddCart(a,b){sNTreatyProductAddCart(a,b,2)}function sNZeroBuyAddCart(a,b){sNTreatyProductAddCart(a,b,1)}function sNTreatyProductAddCart(c,f,a){var e=".html";if("1"==a){e="-0.html"}else{e="-2.html"}var b=URLPrefix.detail_emall+"/"+f+e;gotoUrl(b)}function addPromotionPrice(a,c,h,i,j,f,g,e){if(c==""||typeof c=="undefined"){c="0"}var b=URLPrefix.commerce_emall+"/SearchPromotionType4SolrCmd?partNumber="+j+"&cityId="+sn.cityId+"&mertCode="+c+"&channel=1";
$.ajax({url:b,dataType:"jsonp",jsonpCallback:"promotionCallback",jsonp:"callback",cache:true,success:function(m){if(m!=""&&m.length>0){for(var k=0;k<m.length;k++){var n=m[k];if(n.promotionType=="0"||n.promotionType=="1"){var l=shopJumpUrl(h,i);gotoUrl(l);return}}}addMinShopping(a,h,i,f,g,c,j,e)},error:function(){}})}function addMiniShoppingCarts(a,c,b){generalAddMiniShoppingCart(a,0,cutPrefix(""+c,18),c,sugCon,b)}function addMiniShoppingCartSug(a,b){generalAddMiniShoppingCart(a,0,cutPrefix(""+b,18),b)}function addMiniShoppingCart(a,c,b){generalAddMiniShoppingCart(a,0,c,b,waveToBasket)}function nintyPackageAddCart(a,c,b){generalAddMiniShoppingCart(a,1,c,b,waveToBasket)}function generalAddMiniShoppingCart(j,n,l,k,g,i){var a="";if(n==0){var e=$("#proShow ."+j).find(".err-product").attr("rel");
a=e==""||e==null?"":"&supplierCode="+e}else{if(n==1){a="&isKitWare=1&configurationId_1="+l}}var h=$("#proShow").find($("."+j));if(h.find(".djh").length>0){var c=shopJumpUrl(j,k);gotoUrl(c);return}var f=h.find(".cart-ipt").attr("value");var m=/^\+?[1-9][0-9]*$/;f=f==""||f==null||!m.test(f)?"1":f;var b=URLPrefix.commerce_emall+"/addMiniSoppingCart?ERROEVIEW=miniShoppingCartView&URL=miniShoppingCartView&quantity="+f+"&fullInventoryCheck=0&inventoryCheckType=0&fullVoucherCheck=0&voucherCheckType=0&inventoryRemoteCheck=1&voucherRemoteCheck=1&orderId=.&catEntryId_1="+j+"&sellType=0&storeId=10052"+a+"&callback=?";if(typeof param!="undefined"&&param.promotionSearchFlag=="1"){addPromotionPrice(b,e,j,k,l,g,i,f)}else{addMinShopping(b,j,k,g,i,e,l,f)}}function addShop(b,c,f,a,e){$.ajax({url:b,cache:false,async:false,dataType:"jsonp",jsonp:"callback",success:function(g){var i=shopJumpUrl(c,f);
if(g.searcherror==1){alert("购买失败! 请点击商品链接，进入详情页面进行查看购买。")}else{if(g.userStatus!=""){alert("您的会员卡已冻结，请拨打4008-198-198或在线客服处理。")}else{if(g.isOverLimitCnt=="OVERLIMIT"){var h=URLPrefix.cart_emall+"/OrderItemDisplay?langId=-7&storeId=10052&catalogId="+sn.searchCatalogId;globalAlert("您的购物车商品种类已达50种上限，建议您立即<a href="+h+">清理购物车</a>","info")}else{if(g.errorCode=="GROUPINPREHEAT"){globalAlert("您选购的商品即将参加优惠促销，请稍后以优惠价来购买吧！")}else{if(g.errorCode=="GROUPNOTBINDPHONE"){gotoUrl(i)}else{if(g.errorCode=="GROUPNOTBRONDPAY"){gotoUrl(i)}else{if(g.errorCode=="NOTSALE"){gotoUrl(i)}else{if(g.hasInventor==1){SFE.base.miniCartReload();if(a&&typeof(a)==="function"){if(typeof(e)!="undefined"){a(e)}else{a($("."+c))}}pageSaleCookie(c,f)}else{if(g.hasInventor==0){gotoUrl(i)}}}}}}}}}}})}function shopJumpUrl(c,f){var e=$("#proShow ."+c);
var b=URLPrefix.detail_emall+"/"+f+".html";var a=e.find(".err-product").attr("rel");if(!param.cshopPageUrlFlag||e.hasClass("mobileProduct")||a=="0000000000"||a==""){b=URLPrefix.detail_emall+"/"+f+".html"}else{b=getCshopDetailPageUrl(f,a)}return b}function addMinShopping(c,i,j,g,h,b,k,f){if(typeof param!="undefined"&&param.shopSearchFlag=="1"){if(b!=undefined&&b!=""){var a=URLPrefix.cart_emall+"/SNGetVendorTypeCmd";var e="vendorCode="+b;$.ajax({url:a,data:e,dataType:"jsonp",crossDomain:true,success:function(l){if(l.vendorType==3||l.vendorType==4){addToCCF(l.vendorType,k,b,j,i,f)}else{addShop(c,i,j,g,h)}}})}else{addShop(c,i,j,g,h)}}else{addShop(c,i,j,g,h)}}function addToCCF(i,g,c,f,a,b){var h=URLPrefix.shop_emall+"/overSeaAddCart.do";var e={sourcePageType:"03",activityType:"01",activityId:"",cmmdtyCode:g,shopCode:c,cmmdtyQty:b,overSeasFlag:i==3?"927HWG1":"927HWG"};
$.ajax({url:h,data:e,cache:false,async:false,dataType:"jsonp",crossDomain:true,success:function(l){var j=l.isSuccess;if(j=="Y"){SFE.base.miniCartReload();waveToBasket($("."+a));pageSaleCookie(a,f)}else{var k=shopJumpUrl(a,f);gotoUrl(k)}}})}function pageSaleCookie(c,e){if(typeof(pageSaleCookieUtil)!="undefined"){var b=$("."+c).find(".cart-btn").attr("name");var f=$("."+c).find(".err-product").attr("rel");if(f==""){f="0000000000"}var a=e+"_"+f;pageSaleCookieUtil.saveCookie(a,b)}}function sugCon(a){waveToBasketAction($(a),$(a).parent().siblings().find("img").attr("src"))}function waveToBasket(c){var b,e;if(sn.searchCatalogId==22001){b=c.find(".buy")}else{b=c.find(".cart-btn")}e=c.find(".wrap div").find("img").attr("src");if(sn.hasSidebar&&$(".sn-sidebar").length>0){SNSearch.addCart(b)}else{waveToBasketAction(b,e)
}}function waveToBasketAction(b,g){if($("#waveImg").length>0){return}var c=$(".ng-bar-node-mini-cart");$('<img src="'+g+'" id="waveImg"/>').appendTo($("body"));$("#waveImg").css({display:"block",position:"absolute",width:"30px",height:"30px",top:b.offset().top,left:b.offset().left,border:"2px solid red","z-index":10000});var f=c.offset().left,e=c.offset().top;$("#waveImg").animate({left:f,top:e+50},"300").animate({top:e,opacity:0},"500");setTimeout(function(){$("#waveImg").remove()},1000)}function miniCartView_setCookie(a,b){document.cookie=a+"="+escape(b)+"; path=/;domain="+URLPrefix.cookie_domain}function _loadSearchJs(g){var b=g;var f=document.getElementsByTagName("script");for(var c=0;c<f.length;c++){if(f[c].src==b){return}}var a=document.createElement("script");a.type="text/javascript";
a.async=true;a.src=b;var e=f[0];e.parentNode.insertBefore(a,e)}function getSearchJsFilePath(h){var c=document.location.hostname;var e=/^\w*?.suning.com$/;var f=/^\w*?pre.cnsuning.com$/;var a=/^\w*?sit.cnsuning.com$/;var b="";if(e.test(c)){b=("https:"==document.location.protocol)?"https://imgssl.suning.com":"http://script.suning.cn"}else{if(f.test(c)){b=("https:"==document.location.protocol)?"https://preimgssl.suning.com":"http://prescript.suning.cn"}else{if(a.test(c)){var g=c.charAt(c.indexOf("sit")+3);var j="https://sit1imgssl.suning.com";var i="http://sit1script.suning.cn";b=("https:"==document.location.protocol)?j:i}else{b=("https:"==document.location.protocol)?"https://preimgssl.suning.com":"http://prescript.suning.cn"}}}b=b+"/javascript/sn_da/"+h;return b}function d(c){var e;return(e=document.cookie.match(RegExp("(^| )"+c+"=([^;]*)(;|$)")))?decodeURIComponent(e[2].replace(/\+/g,"%20")):null
}function resolveStr(a){a=a.replace(/\-/g,"%2d");a=a.replace(/\&/g,"%26");a=a.replace(/\./g,"%2E");a=a.replace(/\+/g,"%2B");return a}function runAnalyseExpo(){if(typeof _analyseExpoTags=="function"){_analyseExpoTags("a")}else{setTimeout(runAnalyseExpo,1000)}}function clearTarget(b){var a=b.indexOf("#");if(a>0){b=b.substring(0,a)}return b}var gotop=function(){$("html,body").scrollTop(0)};
/* FILE BEGIN global_init.js */
var options;$(document).ready(function(){if($("#uriJSON").length>0){options=eval("("+$("#uriJSON").val()+")")}sn.searchCatalogId=$("#searchCatalogId").val();var cityIdCookie=$.cookie("cityId");var cityId="9173";if(typeof pageGlobalJsParam!="undefined"&&pageGlobalJsParam.cityId!=null){cityId=pageGlobalJsParam.cityId}if(!cityIdCookie||cityIdCookie==""){cityIdCookie=cityId;$.cookie("cityId",cityId,{domain:URLPrefix.cookie_domain,expires:7*52*100,path:"/"})}sn.cityId=cityId;if(sn.searchCatalogId=="10051"){}else{if(screen.width>1200){var li=$(".navList").find("li");if(li.eq(li.length-4)[0]){li.eq(li.length-4).css("display","inline")}if(li.eq(li.length-5)[0]){li.eq(li.length-5).css("display","inline")}document.getElementsByTagName("body")[0].className="root1200"}else{document.getElementsByTagName("body")[0].className="root1000"
}}setCityInfo();_loadSearchJs(getSearchJsFilePath("da_opt.js"));if(sn.searchCatalogId=="22001"){addCityId()}extObj.init()});function setCityInfo(){$("#sncity").mCity({cityId:sn.cityId|"",city:true,cityCb:function(f){if(typeof(param)!="undefined"&&param.n=="2"){uriObj.cityId.value="0";var d="/"+uriObj.buildURI()+".html";window.location.href=d;return}var d=location.href;var e=/cityId=([^&]+|)/;if(e.test(d)){d=d.replace(e,"")}gotoUrl(d)},distCb:function(b){},getCity:function(b){}})};