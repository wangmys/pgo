var cloudCart=cloudCart||(function(Win,Doc,$,undefined){var isIE=/MSIE/.test(navigator.userAgent);var isIE6=/MSIE 6.0/.test(navigator.userAgent)&&!/MSIE 8.0/.test(navigator.userAgent);var W3C=window.dispatchEvent;if(!W3C){$(Doc).on("focus","a",function(){$(this).blur()})}return{supportPlaceHolder:{init:function(warp){var inputArr;if(warp){inputArr=$(warp).find("input[placetext]")}else{inputArr=$("input[placetext]")}inputArr.each(function(){if(!$(this).attr("data-is-enter")){$(this).attr("data-is-enter",0)}var defaultValue=$(this).attr("placetext");if($.trim($(this).val())==""){$(this).val(defaultValue).css("color","#bbb")}$(this).focus(function(){if($.trim($(this).val())==defaultValue&&$(this).attr("data-is-enter")==0){$(this).val("").css("color","#333")}});$(this).blur(function(){if($.trim($(this).val())==""){$(this).attr("data-is-enter",0);$(this).val(defaultValue).css("color","#bbb")}});$(this).keydown(function(){$(this).attr("data-is-enter",1)})})}},changeInputBorder:function(){$(document).on("focus",".ui-text",function(){$(this).removeClass("error").addClass("focus")});$(document).on("blur",".ui-text",function(){$(this).removeClass("focus")})},tab:function(options){var def={selector:null,start:0,event:"click",delay:200,selected:".selected",callback:$.noop};var args=arguments[0];if(!args||!(typeof(args)=="object"&&Object.prototype.toString.call(args).toLowerCase()=="[object object]"&&!args.length)){return $.error("tab: 参数必须为JSON格式")}$.extend(def,options);def.selected=def.selected.replace(/^\./,"");var tab=function(idArray,tagRel,handle){tagRel.removeClass(def.selected);handle.addClass(def.selected);$(idArray.join(",")).hide();var thisTagRel=handle.attr("rel");$(thisTagRel).show();def.callback.apply(this,[thisTagRel.split("#")[1]])};var tabWrap=$(def.selector);var numIndex=!!(typeof def.start==="number");tabWrap.each(function(){var T=$(this);var _id=[],container,display,tagRel=T.find("[rel^='#']");if(tagRel.size()==0){return true}tagRel.removeClass(def.selected);for(var i=0;i<tagRel.length;i++){var rel=tagRel.eq(i).attr("rel");_id.push(rel);if(numIndex&&def.start==i){display=$(rel);tagRel.eq(i).addClass(def.selected)}}if(!numIndex){display=$(def.start);T.find("[rel^='"+def.start+"']").addClass(def.selected)}container=$(_id.join(","));container.not($(display)).hide();display.show();def.callback.apply(this,[display.attr("id")]);var timer,isDelay=(/^mouseover|mouseout|mouseleave|mouseenter$/.test(def.event));if(!isDelay){def.delay=15}else{tagRel.bind("mouseout",function(){clearTimeout(timer)})}tagRel.bind(def.event,function(){var _this=$(this);var thisTagRel=_this.attr("rel");clearTimeout(timer);timer=setTimeout(function(){tab(_id,tagRel,_this)},def.delay)})})}}})(window,document,jQuery);cloudCart.floatBar=function(){var _d={contents:null,align:"right",vertical:"middle",zIndex:7500,css:null,id:null,ieFixed:true};var _ie=($.browser.msie)?parseInt($.browser.version):false;if(arguments.length<1||!(arguments[0] instanceof Object)){return $.error("ECode.floatBar: 参数必须为JSON对象")}$.extend(_d,arguments[0]);var _hideCss={position:"fixed",top:"-9999em",left:"-9999em"};if(_ie&&_ie<=6){_hideCss.position="absolute"}$('<div class="ECode-floatBar"></div>').css(_hideCss).appendTo("body");var _bar=$("body").find(".ECode-floatBar:last");_bar.append(_d.contents);var _bw=_bar.width(),_bh=_bar.height(),_css={zIndex:_d.zIndex};if(_d.id!=null){_bar.attr("id",_d.id)}switch(_d.align){case"right":_css.left="auto";_css.right=0;break;case"left":_css.right="auto";_css.left=0;break;case"center":_css.right="auto";_css.left="50%";_css.marginLeft=-_bw/2;break}switch(_d.vertical){case"top":_css.top=0;break;case"bottom":_css.top="auto";_css.bottom=0;break;case"middle":_css.top="50%";_css.marginTop=-_bh/2;if(_ie&&_ie<=6){_css.marginTop=0}break}_bar.css($.extend(_css,_d.css));var fixIE6=function(){var _topHide=$(document).scrollTop(),_winHeight=$(window).height(),_winWidth=$(document).width();switch(_d.vertical){case"top":_bar.stop().animate({top:_topHide});break;case"bottom":var _newTop=_winHeight+_topHide-_bh;if(_d.css.marginBottom!=null){var _mb=parseInt(_d.css.marginBottom);if(_mb>=0){_newTop-=_mb}}_newTop-=100;_bar.css({marginTop:_newTop});break;case"middle":_bar.stop().animate({top:_winHeight/2+_topHide-_bh/2});break}};if(_d.ieFixed&&_ie&&_ie<=6){fixIE6();$(window).scroll(function(){fixIE6()});$(window).resize(function(){fixIE6()})}};cloudCart.ieVersion=function(ver){var b=document.createElement("b");b.innerHTML="<!--[if IE "+ver+"]><i></i><![endif]-->";return b.getElementsByTagName("i").length===1};