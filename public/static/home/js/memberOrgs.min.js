ms_memberOrgs={};ms_memberOrgs.getEnv=function(d){var g="";var c=/^(\w*)(pre)(\w*)(.cnsuning.com)$/,b=/^(\w*)(sit)(\w*)(.cnsuning.com)$/,e=/^(\w*)(dev)(\w*)(.cnsuning.com)$/,a=window.location.hostname;var f="prd";if(c.test(a)){f="pre"}else{if(b.test(a)){f="sit"}else{if(e.test(a)){f="dev"}}}switch(f){case"prd":switch(d){case"msiDomain":g="my.suning.com";break;case"msiApiDomain":g="myapi.suning.com";break}break;case"pre":switch(d){case"msiDomain":g="mypre.cnsuning.com";break;case"msiApiDomain":g="mypre.cnsuning.com";break}break;case"sit":switch(d){case"msiDomain":g="mysit.cnsuning.com/msi-web";break;case"msiApiDomain":g="mysit.cnsuning.com/msi-web";break}break;case"dev":switch(d){case"msiDomain":g="mydev.cnsuning.com:8080/msi-web";break;case"msiApiDomain":g="mydev.cnsuning.com:8080/msi-web";break}break}return g};ms_memberOrgs.getCookie=function(c){var d;return(d=document.cookie.match(RegExp("(^| )"+c+"=([^;]*)(;|$)")))?decodeURIComponent(d[2].replace(/\+/g,"%20")):null};ms_memberOrgs.setCookie=function(b,e,c,h){var d=false;if(!!window.ActiveXObject||"ActiveXObject" in window){d=true}else{d=false}if(d){if(e){if(h){var g=new Date();g.setTime(g.getTime()+(h*1000*60));var a="; expires="+g.toGMTString()}else{var a="; expires=At the end of the Session"}var f="";if(c!=null){f="; path="+c}document.cookie=b+"="+escape(e)+a+f}}else{if(e){if(h){var g=new Date();g.setTime(g.getTime()+(h*1000*60));var a="; expires="+g.toGMTString()}else{var a="; expires=Session"}var f="";if(c!=null){f="; path="+c}document.cookie=b+"="+escape(e)+a+f}}};ms_memberOrgs.queryMemberOrgsInfo=function(b,e){var a={status:"failure",code:"",msg:""};var d="_memberOrgIds";var c=ms_memberOrgs.getEnv("msiApiDomain");if(typeof e=="undefined"){if(typeof passport_config!="undefined"){e=passport_config}else{e={base:"http://"+c+"/",loginTheme:"b2c_pop"}}}probeAuthStatus(function(m){var h=ms_memberOrgs.getCookie(d);if(h){try{var k=h.split("|");if(m==k[2]){a.status=k[0];a.code=k[1];if(k[3]){a.result=new Object();a.result.orgIds=[];a.result.custNum=m;var j=k[3].split(",");for(var g in j){var i=new Object();i.orgId=j[g];a.result.orgIds[g]=i}}b(a);return}ms_memberOrgs.setCookie(d,"failure","/",-1)}catch(l){b(a)}}var n="https:"==document.location.protocol?"https":"http";var f=n+"://"+c+"/api/person/getPersonOrgInfo-"+m+"-getMemberOrgsCallBack.htm";$.ajax({url:f,type:"GET",dataType:"jsonp",timeout:5000,cache:true,jsonpCallback:"getMemberOrgsCallBack",success:function(r){try{a=r;if(r.status=="success"){var q="success|"+r.code+"|"+m+"|";var p=r.result;if(p){var o=p.orgIds;for(var t in o){q+=o[t].orgId+","}q=q.substring(0,q.length-1)}ms_memberOrgs.setCookie(d,q,"/")}b(a)}catch(s){b(a)}},error:function(o){b(a)}})},function(){a.code="NOT_LOGIN";a.msg="未登录";b(a)},e)};ms_memberOrgs.queryIsEnterprise=function(b,d){var a={status:"failure",code:"",msg:""};var c=ms_memberOrgs.getEnv("msiApiDomain");if(typeof d=="undefined"){if(typeof passport_config!="undefined"){d=passport_config}else{d={base:"http://"+c+"/",loginTheme:"b2c_pop"}}}probeAuthStatus(function(g){var e="https:"==document.location.protocol?"https":"http";var f=e+"://"+c+"/api/person/isEnterpriseMember-"+g+"-getIsEnCallBack.htm";$.ajax({url:f,type:"GET",dataType:"jsonp",timeout:5000,cache:true,jsonpCallback:"getIsEnCallBack",success:function(h){a=h;b(a)},error:function(h){b(a)}})},function(){a.code="NOT_LOGIN";a.msg="未登录";b(a)},d)};