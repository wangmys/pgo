var SFE=SFE||{};SFE.dialog=SFE.dialog||(function(c,h,i,d){if(!jQuery){throw new Error("The plugin requires jQuery")}var k=/MSIE/.test(navigator.userAgent);var f=/MSIE 6.0/.test(navigator.userAgent)&&!/MSIE 8.0/.test(navigator.userAgent);var l=true;i.fn.snfadeIn=function(m,n){return this.animate({opacity:"show"},m,function(){if(!!k){this.style.removeAttribute("filter")}if(i.isFunction(n)){n()}})};var b='<style class="m-style">.m-dialog {position: fixed;_position:absolute; top: 50%; left: 50%; z-index: 1000003;}.m-dialog .container { display:none; background:rgba(0,0,0,0.2);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#30000000,endColorstr=#30000000)\\9;padding:6px;}.m-dialog .title {  border-bottom: 1px solid #ccc; background: #eee; }.m-dialog .title h3 { padding:5px 0; padding-left: 10px; font-size: 14px; }.m-dialog .btn {display:block;  position: absolute; color:#999;text-decoration:none; font-family:simsun;right: 12px; top:8px;font-size:16px;font-weight:700;cursor: pointer;}.m-dialog .gt {}.m-dialog .lt { margin-left:-4px;}.m-dialog .btn:hover { color:#666;text-decoration:none; }.m-dialog .content { background:#fff;}.m-dialog-overlay .lay { display:none;}.m-dialog-overlay .close {position:absolute;top:0; left:0; width: 100%; height: 100%; opacity: 0.3; filter:Alpha(opacity=30)\\9; cursor: pointer; }.m-dialog-overlay .overlay { background: black; z-index: 1000001; }.m-dialog-overlay .frame { z-index: 1000002;  }</style>';var g='<div class="m-dialog-overlay"><div class="close lay overlay" ></div></div>';var j='<div class="m-dialog"><div class="container"><div class="title"><h3>温馨提示</h3></div><a href="javascript:;" class="btn close" title="关闭"><i class="gt">&gt;</i><i class="lt">&lt;</i></a><div class="content"></div></div></div>';var a;function e(q){q.mDialog=function(t){if(q(".m-style").size()===0){q("body").append(b)}if(l){o(t);l=false}};q.unmDialog=function(t){m(t);l=true};q.mDialog.defaults={css:{width:"450px",position:'fixed',_position:"absolute"},overlayCss:{},title:null,message:"",callback:null,http:null,fadeIn:0,fadeOut:0,overlay:true,overlayClick:false,timeout:null,draggable:true,iframeSrc:/^https/i.test(window.location.href||"")?"https://imgssl.suning.com/images/ShoppingArea/Common/blankbg.gif":"about:blank"};var v,r,s,p;function o(t){t=q.extend({},q.mDialog.defaults,t||{});if(v){clearTimeout(v)}q("body").append(j).append(g);n(t);u(t);r=t}function m(w){if(!!w){w=q.extend({},q.mDialog.defaults,w||{})}else{w=r}var t=typeof w.fadeOut=="number"?w.fadeOut:0;q(".m-dialog").children().fadeOut(0,function(){q(".m-dialog").remove()});q(".m-dialog-overlay").children().fadeOut(t,function(){q(".m-dialog-overlay").remove()});if(s!==d){w.message.html(p)}s=d}function n(B){if(!!B.message&&!B.http){if(typeof B.message=="object"){s=B.message.children().size()?B.message.children():B.message.html();p=B.message.children().size()?s.clone():B.message.html();q(".m-dialog").find(".content").append(s)}else{if(typeof B.message=="string"){q(".m-dialog").find(".content").html(B.message)}}}else{if(!B.message&&!!B.http&&typeof B.http=="function"){B.http(q(".m-dialog"),B)}else{if(!B.message&&!B.http){throw new Error("至少,必须设置其中一个参数");return}}}if(typeof B.css=="object"){q(".m-dialog").css(B.css)}var C=q(".m-dialog");var w=q(".m-dialog-overlay");var A=q(".m-dialog-overlay .lay");var t=typeof B.fadeIn=="number"?B.fadeIn:0;var z=q.extend({},q.mDialog.defaults.css,B.css||{});C.children().snfadeIn(0,function(){if(typeof B.callback=="function"){B.callback(this,B)}});if(typeof B.title=="string"){q(".m-dialog .title h3").text(B.title)}function y(){var E=q(".m-dialog").height();var F=q(c).height();var D=q("body").height();if(f){C.css({marginLeft:-C.width()/2,marginTop:(E>F?0:(q(document).scrollTop()-q(".m-dialog").height()/2)),top:(E>F?0:"50%")})}else{C.css(z).css({marginLeft:-C.width()/2,marginTop:(E>F?0:-E/2),top:(E>F?0:"50%")})}A.height(Math.max(D,F))}y();if(f){q(c).scroll(function(){C.css({marginTop:(q(".m-dialog").height()>q(c).height()?q(document).scrollTop():(q(document).scrollTop()-q(".m-dialog").height()/2))})})}q(c).resize(function(){y()});var x=q.extend({},q.mDialog.defaults.overlayCss,B.overlayCss||{});if(B.overlay===true){A.css(x).snfadeIn(t)}}function u(x){var t=[".m-dialog .close"];if(typeof x.timeout=="number"){v=setTimeout(function(){q.unmDialog()},x.timeout)}if(!!x.overlayClick){t.push(".m-dialog-overlay")}for(var w=0;w<t.length;w++){q(t[w]).click(function(){q.unmDialog()})}}}e(jQuery)})(window,document,jQuery);if(typeof define==="function"){define("SFE.dialog",["jquery"],function(b,a,c){c.exports=SFE.dialog})}else{window.$=window.jQuery=jQuery};
